Librarian is a library to help building Kotlin libraries. 

Features:

- Java/Kotlin compatibility flags
- [Maven Central](https://central.sonatype.com/) publishing
- [Dokkatoo](https://github.com/adamko-dev/dokkatoo) configuration 
- [BCV](https://github.com/Kotlin/binary-compatibility-validator) configuration
- Maven pom compatibility for KMP projects
- [Maven sympathy for transitive dependencies](https://jakewharton.com/nonsensical-maven-is-still-a-gradle-problem/)
- Autogenerated lib version constant

## Quickstart

Work in progress...

Add `librarian` to your Gradle buildscript classpath:

```kotlin
plugins {
  
}
```

Call `librarianRoot` in your root module:

```kotlin
librarianRoot()
```

And `librarianModule` in each library module:

```kotlin
librarianModule()
```

Librarian uses Gradle properties for configuration options and environment variables for secrets:

```properties
# gradle properties

# compatibility
librarian.javaCompatibility=8
librarian.kotlinCompatibility=2.0.0

# kdoc
librarian.kdoc.aggregator=kdoc
librarian.kdoc.olderVersions=

# version
librarian.version.packageName=com.apollographql.mockserver

# publishing
librarian.sonatype.host=S01
librarian.pom.groupId=com.apollographql.mockserver
librarian.pom.version=0.0.1
librarian.pom.description=Apollo Mockserver
librarian.pom.vcsUrl=https://github.com/apollographql/apollo-kotlin-mockserver
librarian.pom.developer=Apollo Kotlin Mockserver contributors
librarian.pom.license=MIT License
librarian.pom.licenseUrl=https://raw.githubusercontent.com/apollographql/apollo-kotlin-mockserver/main/LICENSE
```

```shell
export LIBRARIAN_SIGNING_PRIVATE_KEY=your_gpg_key
export LIBRARIAN_SIGNING_PRIVATE_KEY_PASSWORD=your_gpg_key_password

export LIBRARIAN_SONATYPE_USERNAME=your_sonatype_username
export LIBRARIAN_SONATYPE_PASSWORD=your_sonatype_password
```

